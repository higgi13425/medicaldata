<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>making_tables • medicaldata</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="making_tables">
<meta property="og:description" content="medicaldata">
<meta property="og:image" content="https://higgi13425.github.io/medicaldata/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">medicaldata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/making_tables.html">making_tables</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/higgi13425/medicaldata/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="making_tables_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="making_tables_files/tabwid-1.0.0/tabwid.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>making_tables</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/higgi13425/medicaldata/blob/HEAD/vignettes/making_tables.Rmd" class="external-link"><code>vignettes/making_tables.Rmd</code></a></small>
      <div class="hidden name"><code>making_tables.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>First, set up your working environment by loading these 4 packages using the <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> function. Note that you can copy any of the code blocks below by hovering over the top right corner, clicking on the copy icon that appears, and them paste these into your local version of R to run them.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://higgi13425.github.io/medicaldata/">medicaldata</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sfirke/janitor" class="external-link">janitor</a></span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ardata-fr.github.io/flextable-book/" class="external-link">flextable</a></span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="counting-data-in-tables">Counting Data in Tables<a class="anchor" aria-label="anchor" href="#counting-data-in-tables"></a>
</h2>
<p>It is common to count data, particularly in categories, to summarize characteristics or outcomes. The tabyl function in the {janitor} package is helpful for this.</p>
<p>In this vignette, we will look at how to use this function to make simple tables of counts of your data.</p>
<p>First, we will read in the data from strep_tb and indo_rct to use for our tables. Load the libraries in the setup chunk above. If you then run the code chunk below, you should have two new data objects in your Environment tab.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">strep_tb</span> <span class="op">&lt;-</span> <span class="fu">medicaldata</span><span class="fu">::</span><span class="va"><a href="../reference/strep_tb.html">strep_tb</a></span>
<span class="va">indo_rct</span> <span class="op">&lt;-</span> <span class="fu">medicaldata</span><span class="fu">::</span><span class="va"><a href="../reference/indo_rct.html">indo_rct</a></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="table-2-from-streptomycin-for-tuberculosis">Table 2 from Streptomycin for Tuberculosis<a class="anchor" aria-label="anchor" href="#table-2-from-streptomycin-for-tuberculosis"></a>
</h2>
<p>We will now try to reproduce Table 2 from the Streptomycin for Tuberculosis manuscript, which can be found <a href="https://www.bmj.com/content/bmj/2/4582/769.full.pdf" class="external-link">here</a> on page 771. These are the primary endpoint results, summarized in a 6 rows x 2 columns table (with an added totals row). Let’s walk through how to do this with the <em>tabyl()</em> function in the {janitor} package.</p>
</div>
<div class="section level2">
<h2 id="first-table">First Table<a class="anchor" aria-label="anchor" href="#first-table"></a>
</h2>
<p>The <em>tabyl()</em> function allows you to pipe data into tables, and add ‘adornments’ like total rows and percentages. Let’s start with a basic one-variable tabyl using this ordinal endpoint. You can pipe the dataset into the tabyl function, with your desired variable (radiologic_6m) as the only argument to the function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">strep_tb</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/tabyl.html" class="external-link">tabyl</a></span><span class="op">(</span><span class="va">radiologic_6m</span><span class="op">)</span>
<span class="co">#&gt;                 radiologic_6m  n    percent</span>
<span class="co">#&gt;    6_Considerable_improvement 32 0.29906542</span>
<span class="co">#&gt;        5_Moderate_improvement 23 0.21495327</span>
<span class="co">#&gt;                   4_No_change  5 0.04672897</span>
<span class="co">#&gt;      3_Moderate_deterioration 17 0.15887850</span>
<span class="co">#&gt;  2_Considerable_deterioration 12 0.11214953</span>
<span class="co">#&gt;                       1_Death 18 0.16822430</span></code></pre></div>
<p>This gives us the n and proportion of each level of the primary outcome.</p>
</div>
<div class="section level2">
<h2 id="two-variable-table">Two Variable Table<a class="anchor" aria-label="anchor" href="#two-variable-table"></a>
</h2>
<p>If we add the treatment arm variable as a 2nd argument, we can come closer to the original table. Note that the levels of the first argument make up the rows of the table, and that the levels of the 2nd argument make up the columns (standard R x C order). Also note that with 2 variables, we get the counts by default, but not proportions of each level, as you might want proportions that are column-wise, or row-wise.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">strep_tb</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/tabyl.html" class="external-link">tabyl</a></span><span class="op">(</span><span class="va">radiologic_6m</span>, <span class="va">arm</span><span class="op">)</span>
<span class="co">#&gt;                 radiologic_6m Streptomycin Control</span>
<span class="co">#&gt;    6_Considerable_improvement           28       4</span>
<span class="co">#&gt;        5_Moderate_improvement           10      13</span>
<span class="co">#&gt;                   4_No_change            2       3</span>
<span class="co">#&gt;      3_Moderate_deterioration            5      12</span>
<span class="co">#&gt;  2_Considerable_deterioration            6       6</span>
<span class="co">#&gt;                       1_Death            4      14</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="add-a-total-row">Add A Total Row<a class="anchor" aria-label="anchor" href="#add-a-total-row"></a>
</h2>
<p>This is closer, but lacks the total row, and the percentages. In order to have numbers to calculate totals, we have to <em>start</em> with the total row first. We will ‘adorn’ the table with a totals row. We have to specify that we want an additional <strong>row</strong> of totals at the bottom (not a column of row-wise totals in a new column on the right), with the <code>where</code> argument to the adorn_totals function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">strep_tb</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/tabyl.html" class="external-link">tabyl</a></span><span class="op">(</span><span class="va">radiologic_6m</span>, <span class="va">arm</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/adorn_totals.html" class="external-link">adorn_totals</a></span><span class="op">(</span>where <span class="op">=</span> <span class="st">"row"</span><span class="op">)</span> <span class="co"># add a total row</span>
<span class="co">#&gt;                 radiologic_6m Streptomycin Control</span>
<span class="co">#&gt;    6_Considerable_improvement           28       4</span>
<span class="co">#&gt;        5_Moderate_improvement           10      13</span>
<span class="co">#&gt;                   4_No_change            2       3</span>
<span class="co">#&gt;      3_Moderate_deterioration            5      12</span>
<span class="co">#&gt;  2_Considerable_deterioration            6       6</span>
<span class="co">#&gt;                       1_Death            4      14</span>
<span class="co">#&gt;                         Total           55      52</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="add-percentages-and-formatting">Add Percentages and formatting<a class="anchor" aria-label="anchor" href="#add-percentages-and-formatting"></a>
</h2>
<p>This is closer. Now we need to add the percentages, and percentage formatting. We need to specify that we want column-wise, rather than row-wise percentages. We then have to adorn_ns to add the counts, so that we have <em>both</em> counts and percentages. We can specify that we want the counts to be listed first, with the argument <code>position = "front"</code> in the adorn_ns function.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">strep_tb</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/tabyl.html" class="external-link">tabyl</a></span><span class="op">(</span><span class="va">radiologic_6m</span>, <span class="va">arm</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="co">#2 dimensional table, RxC</span>
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/adorn_totals.html" class="external-link">adorn_totals</a></span><span class="op">(</span>where <span class="op">=</span> <span class="st">"row"</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># add totals row</span>
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/adorn_percentages.html" class="external-link">adorn_percentages</a></span><span class="op">(</span><span class="st">"col"</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span>  <span class="co"># column-wise percentages</span>
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/adorn_pct_formatting.html" class="external-link">adorn_pct_formatting</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/adorn_ns.html" class="external-link">adorn_ns</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"front"</span><span class="op">)</span>  <span class="co"># put n first</span>
<span class="co">#&gt;                 radiologic_6m Streptomycin     Control</span>
<span class="co">#&gt;    6_Considerable_improvement  28  (50.9%)  4   (7.7%)</span>
<span class="co">#&gt;        5_Moderate_improvement  10  (18.2%) 13  (25.0%)</span>
<span class="co">#&gt;                   4_No_change   2   (3.6%)  3   (5.8%)</span>
<span class="co">#&gt;      3_Moderate_deterioration   5   (9.1%) 12  (23.1%)</span>
<span class="co">#&gt;  2_Considerable_deterioration   6  (10.9%)  6  (11.5%)</span>
<span class="co">#&gt;                       1_Death   4   (7.3%) 14  (26.9%)</span>
<span class="co">#&gt;                         Total  55 (100.0%) 52 (100.0%)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="making-it-pretty">Making it Pretty<a class="anchor" aria-label="anchor" href="#making-it-pretty"></a>
</h2>
<p>You can pipe this table into a flextable() object, which makes it easy to add fancy formatting. There are many formatting options in the flextable package, which you can learn about <a href="https://davidgohel.github.io/flextable/" class="external-link">here</a>. You can control column width, fonts, colors, and much more once you are in flextable format. Flextables can be output to MS Word, powerpoint, HTML, and PDF, through Rmarkdown.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">strep_tb</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/tabyl.html" class="external-link">tabyl</a></span><span class="op">(</span><span class="va">radiologic_6m</span>, <span class="va">arm</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/adorn_totals.html" class="external-link">adorn_totals</a></span><span class="op">(</span>where <span class="op">=</span> <span class="st">"row"</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/adorn_percentages.html" class="external-link">adorn_percentages</a></span><span class="op">(</span><span class="st">"col"</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span>  <span class="co"># column-wise percentages</span>
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/adorn_pct_formatting.html" class="external-link">adorn_pct_formatting</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/pkg/janitor/man/adorn_ns.html" class="external-link">adorn_ns</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"front"</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/janitor/man/pipe.html" class="external-link">%&gt;%</a></span>   <span class="co"># put n first</span>
  <span class="fu">flextable</span><span class="fu">::</span><span class="fu"><a href="https://davidgohel.github.io/flextable/reference/flextable.html" class="external-link">flextable</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<template id="83fe813d-7cb7-4e44-b562-cc47c9a7767b"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-23157114{}.cl-22f90664{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-22f92734{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-22f97180{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-22f9718a{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-22f97194{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-23157114">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-22f97194"><p class="cl-22f92734"><span class="cl-22f90664">radiologic_6m</span></p></td>
<td class="cl-22f97194"><p class="cl-22f92734"><span class="cl-22f90664">Streptomycin</span></p></td>
<td class="cl-22f97194"><p class="cl-22f92734"><span class="cl-22f90664">Control</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664">6_Considerable_improvement</span></p></td>
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664">28  (50.9%)</span></p></td>
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664"> 4   (7.7%)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664">5_Moderate_improvement</span></p></td>
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664">10  (18.2%)</span></p></td>
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664">13  (25.0%)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664">4_No_change</span></p></td>
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664"> 2   (3.6%)</span></p></td>
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664"> 3   (5.8%)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664">3_Moderate_deterioration</span></p></td>
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664"> 5   (9.1%)</span></p></td>
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664">12  (23.1%)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664">2_Considerable_deterioration</span></p></td>
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664"> 6  (10.9%)</span></p></td>
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664"> 6  (11.5%)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664">1_Death</span></p></td>
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664"> 4   (7.3%)</span></p></td>
<td class="cl-22f97180"><p class="cl-22f92734"><span class="cl-22f90664">14  (26.9%)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-22f9718a"><p class="cl-22f92734"><span class="cl-22f90664">Total</span></p></td>
<td class="cl-22f9718a"><p class="cl-22f92734"><span class="cl-22f90664">55 (100.0%)</span></p></td>
<td class="cl-22f9718a"><p class="cl-22f92734"><span class="cl-22f90664">52 (100.0%)</span></p></td>
</tr>
</tbody>
</table>
</div></template><div class="flextable-shadow-host" id="a1d4e03c-f067-4169-9cc1-be58dd29bb0e"></div>
<script>
var dest = document.getElementById("a1d4e03c-f067-4169-9cc1-be58dd29bb0e");
var template = document.getElementById("83fe813d-7cb7-4e44-b562-cc47c9a7767b");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>
</div>
<div class="section level2">
<h2 id="try-this-yourself">Try this Yourself<a class="anchor" aria-label="anchor" href="#try-this-yourself"></a>
</h2>
<p>Now try this yourself, but instead of using the ordinal radiologic_6m outcome, use the improved dichotomous outcome in its place. Copy the code block below and add the piping and additional lines to produce a 2 x 2 table of outcomes. You can websearch for <code>janitor tabyl adorn_title</code> to learn how to add a title to your table.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">strep_tb</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 107 × 13</span></span>
<span class="co">#&gt;    patient_id arm     dose_strep_g dose_PAS_g gender baseline_condition</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>             </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 0001       Control            0          0 M      1_Good            </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 0002       Control            0          0 F      1_Good            </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 0003       Control            0          0 F      1_Good            </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 0004       Control            0          0 M      1_Good            </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 0005       Control            0          0 F      1_Good            </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 0006       Control            0          0 M      1_Good            </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 0007       Control            0          0 F      1_Good            </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 0008       Control            0          0 M      1_Good            </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 0009       Control            0          0 F      2_Fair            </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 0010       Control            0          0 M      2_Fair            </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 97 more rows, and 7 more variables: baseline_temp &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   baseline_esr &lt;fct&gt;, baseline_cavitation &lt;fct&gt;, strep_resistance &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   radiologic_6m &lt;fct&gt;, rad_num &lt;dbl&gt;, improved &lt;lgl&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="challenge">Challenge<a class="anchor" aria-label="anchor" href="#challenge"></a>
</h2>
<p>Now try to do this with the indo_rct dataset, using the treatment variable <code>group</code> and the outcome variable of <code>outcome</code>. Add a total row, percentages, and a title.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">indo_rct</span> 
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 602 × 33</span></span>
<span class="co">#&gt;       id site    age  risk gender   outcome sod   pep   recpanc psphinc precut</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">1</span>001 1_UM     26   2   1_female 1_yes   1_yes 0_no  1_yes   0_no    0_no  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">1</span>002 1_UM     24   1   2_male   0_no    0_no  1_yes 0_no    0_no    0_no  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">1</span>003 1_UM     57   1   1_female 0_no    1_yes 0_no  0_no    0_no    0_no  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">1</span>004 1_UM     29   2   1_female 1_yes   1_yes 0_no  0_no    0_no    0_no  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">1</span>005 1_UM     38   3.5 1_female 0_no    1_yes 1_yes 0_no    1_yes   0_no  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">1</span>006 1_UM     59   3   1_female 0_no    1_yes 0_no  0_no    0_no    1_yes </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">1</span>007 1_UM     60   1.5 1_female 0_no    0_no  0_no  1_yes   0_no    0_no  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">1</span>008 1_UM     29   1   2_male   0_no    0_no  0_no  0_no    0_no    0_no  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">1</span>009 1_UM     53   2   2_male   0_no    0_no  0_no  1_yes   0_no    0_no  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">1</span>010 1_UM     20   2   2_male   0_no    0_no  0_no  0_no    0_no    1_yes </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 592 more rows, and 22 more variables: difcan &lt;fct&gt;, pneudil &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   amp &lt;fct&gt;, paninj &lt;fct&gt;, acinar &lt;fct&gt;, brush &lt;fct&gt;, asa81 &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   asa325 &lt;fct&gt;, asa &lt;fct&gt;, prophystent &lt;fct&gt;, therastent &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   pdstent &lt;fct&gt;, sodsom &lt;fct&gt;, bsphinc &lt;fct&gt;, bstent &lt;fct&gt;, chole &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   pbmal &lt;fct&gt;, train &lt;fct&gt;, status &lt;fct&gt;, type &lt;fct&gt;, rx &lt;fct&gt;, bleed &lt;dbl&gt;</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Peter Higgins.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
